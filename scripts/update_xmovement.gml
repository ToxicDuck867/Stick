if (knockDir!=0){  for (i=abs(knockDir); i>0; i-=1)  {    if (knockDir>0)    {      if ((spot_free(x+i,y)) && (x+i<room_width))      {        set_x(x+i);        break;      }    }    else if (knockDir<0)    {      if ((spot_free(x-i,y)) && (x-i>=0))      {        set_x(x-i);        break;      }    }  }}else if (dir!=0){  for (i=abs(dir); i>0; i-=1)  {    if (dir>0)    {      if ((spot_free(x+i,y)) && (x+i<room_width))      {        set_x(x+i);        break;      }    }    else if (dir<0)    {      if ((spot_free(x-i,y)) && (x-i>=0))      {        set_x(x-i);        break;      }    }  }}