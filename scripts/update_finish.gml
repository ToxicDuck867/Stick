var _batch, _temp, _updateSuccess;_temp=string_copy(temp_directory,1,string_pos("gm_ttt_",temp_directory)-2);if (ds_list_size(updatedFileList)>0){  _batch=file_text_open_write(_temp+"\Updater.bat");  file_text_write_string(_batch,"@ECHO OFF");  file_text_writeln(_batch);  file_text_write_string(_batch,"@ECHO Updating game files...");  file_text_writeln(_batch);  file_text_write_string(_batch,"PING -n 5 127.0.0.1>nul");  file_text_writeln(_batch);  for (i=0; i<ds_list_size(updatedFileList); i+=1)  {    if (file_exists(working_directory+"\"+ds_list_find_value(updatedFileList,i)))    {      file_text_write_string(_batch,"DEL "+'"'+working_directory+"\"+ds_list_find_value(updatedFileList,i)+'"');      file_text_writeln(_batch);    }    file_text_write_string(_batch,"MOVE "+'"'+_temp+"\"+ds_list_find_value(updatedFileList,i)+'"'+      ' "'+working_directory+"\"+ds_list_find_value(updatedFileList,i)+'"');    file_text_writeln(_batch);  }  file_text_write_string(_batch,"@ECHO Update complete!");  file_text_writeln(_batch);  file_text_write_string(_batch,"@ECHO Launching game...");  file_text_writeln(_batch);  file_text_write_string(_batch,"START "+"StickOnline.exe "+'"'+working_directory+'"');  file_text_close(_batch);  registry_set_root(0);  registry_write_string_ext("\Software\Stick Online","Updated",PATCH_SERVER);  execute_program(_temp+"\Updater.bat","",false);  game_end();}