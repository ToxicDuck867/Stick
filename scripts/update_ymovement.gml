for (i=abs(vspd); i>0; i-=1){  if (vspd>0)  {    if ((spot_free(x,y+i)) && (!upblock_position(x,y+i)))    {      set_y(y+i);      if ((!spot_free(x,y+1)) || (upblock_position(x,y+1)))      {        vspd=0;        knockDir=0;        set_y(floor(y));        if ((spot_free(x,y+1)) && (!upblock_position(x,y+1)))          set_y(y+1);      }      break;    }  }  else if (vspd<0)  {    if (spot_free(x,y-i))    {      set_y(y-i);      if (!spot_free(x,y-1))      {        vspd=0;        knockDir=0;      }      break;    }  }}if (!ground_check()){  grav=1;}else{  grav=0;  vspd=0;  knockDir=0;}vspd+=grav;if (vspd>14){  vspd=14;}